{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport { Notify } from \"notiflix/build/notiflix-notify-aio\";\n\nconst secondsRender = document.querySelector('span[data-seconds]');\nconst minutesRender = document.querySelector('span[data-minutes]');\nconst hoursRender = document.querySelector('span[data-hours]');\nconst daysRender = document.querySelector('span[data-days]');\n\n// Initializing Notiflix Notify with custom settings\nNotify.init({\n  fontSize: \"1rem\",\n  width: \"550px\",\n  cssAnimationStyle: \"from-bottom\",\n  useIcon: false,\n  success: {\n    background: \"#17d0c6\",\n  },\n  info: {\n    background: \"#336aea\",\n  },\n});\n\nlet time = 0;\nlet timerId = null;\nlet totalTime = null;\n\n\nconst btnStart = document.querySelector('button[data-start]');\nbtnStart.disabled = true;\n\nlet deadline = 0;\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n\n        if (selectedDates && selectedDates.length > 0) {\n            const selectedDate = selectedDates[0];\n            if (selectedDate <= new Date()) {\n                // alert(\"Please choose a date in the future\")\n                Notiflix.Notify.warning(\"Please choose a date in the future\");\n            } else {\n                btnStart.disabled = false;\n                deadline = selectedDate;\n            }\n        } else  {\n                Notify.failure(\"Please choose a valid date\");\n        }\n    },\n  };\n\nflatpickr('input#datetime-picker', options);\n\n\nconst timerStart = () => {\n\n\n    timerId = setInterval(() => {\n        time = deadline.getTime() - new Date().getTime();\n        totalTime = convertMs(time); \n        // console.log(totalTime);\n\n        secondsRender.textContent = totalTime.seconds;\n        minutesRender.textContent = totalTime.minutes;\n        hoursRender.textContent = totalTime.hours;\n        daysRender.textContent = totalTime.days;\n\n    if (time < 0) {\n        clearInterval(timerId)\n        }\n    }, 1000);\n}\n\nbtnStart.addEventListener('click', timerStart);\n\nfunction addLeadingZero(value) {\n    const newNum =  value.padStart(2, '0');\n    return newNum;\n }\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = addLeadingZero(Math.floor(ms / day).toString());\n    // Remaining hours\n    const hours = addLeadingZero(Math.floor((ms % day) / hour).toString());\n    // Remaining minutes\n    const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute).toString());\n    // Remaining seconds\n    const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second).toString());\n  \n    return { days, hours, minutes, seconds };\n  }\n"],"names":["secondsRender","minutesRender","hoursRender","daysRender","Notify","time","timerId","totalTime","btnStart","deadline","options","selectedDates","selectedDate","flatpickr","timerStart","convertMs","addLeadingZero","value","ms","days","hours","minutes","seconds"],"mappings":"6vBAIA,MAAMA,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAa,SAAS,cAAc,iBAAiB,EAG3DC,EAAM,OAAC,KAAK,CACV,SAAU,OACV,MAAO,QACP,kBAAmB,cACnB,QAAS,GACT,QAAS,CACP,WAAY,SACb,EACD,KAAM,CACJ,WAAY,SACb,CACH,CAAC,EAED,IAAIC,EAAO,EACPC,EAAU,KACVC,EAAY,KAGhB,MAAMC,EAAW,SAAS,cAAc,oBAAoB,EAC5DA,EAAS,SAAW,GAEpB,IAAIC,EAAW,EAGf,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAEnB,GAAIA,GAAiBA,EAAc,OAAS,EAAG,CAC3C,MAAMC,EAAeD,EAAc,CAAC,EAChCC,GAAgB,IAAI,KAEpB,SAAS,OAAO,QAAQ,oCAAoC,GAE5DJ,EAAS,SAAW,GACpBC,EAAWG,EAE3B,MACgBR,SAAO,QAAQ,4BAA4B,CAEtD,CACL,EAEAS,EAAU,wBAAyBH,CAAO,EAG1C,MAAMI,EAAa,IAAM,CAGrBR,EAAU,YAAY,IAAM,CACxBD,EAAOI,EAAS,QAAO,EAAK,IAAI,KAAI,EAAG,UACvCF,EAAYQ,EAAUV,CAAI,EAG1BL,EAAc,YAAcO,EAAU,QACtCN,EAAc,YAAcM,EAAU,QACtCL,EAAY,YAAcK,EAAU,MACpCJ,EAAW,YAAcI,EAAU,KAEnCF,EAAO,GACP,cAAcC,CAAO,CAExB,EAAE,GAAI,CACX,EAEAE,EAAS,iBAAiB,QAASM,CAAU,EAE7C,SAASE,EAAeC,EAAO,CAE3B,OADgBA,EAAM,SAAS,EAAG,GAAG,CAEvC,CAEF,SAASF,EAAUG,EAAI,CAQnB,MAAMC,EAAOH,EAAe,KAAK,MAAME,EAAK,KAAG,EAAE,SAAQ,CAAE,EAErDE,EAAQJ,EAAe,KAAK,MAAOE,EAAK,MAAO,IAAI,EAAE,SAAQ,CAAE,EAE/DG,EAAUL,EAAe,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,EAAE,SAAU,CAAA,EAE5EI,EAAUN,EAAe,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAAE,SAAU,CAAA,EAE7F,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}