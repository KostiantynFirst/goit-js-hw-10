{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst secondsRender = document.querySelector('span[data-seconds]');\nconst minutesRender = document.querySelector('span[data-minutes]');\nconst hoursRender = document.querySelector('span[data-hours]');\nconst daysRender = document.querySelector('span[data-days]');\n\n\nlet time = 0;\nlet timerId = null;\nlet totalTime = null;\n\n\nconst btnStart = document.querySelector('button[data-start]');\nbtnStart.disabled = true;\n\nconst inputDateTime = document.querySelector('input#datetime-picker');\n\n\nlet deadline = 0;\n\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n\n            if (selectedDates[0] <= new Date()) {\n                // alert(\"Please choose a date in the future\")\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Please choose a date in the future',\n                    position: 'topRight',\n                });\n\n                return;\n            } else {\n                btnStart.disabled = false;\n                deadline = selectedDates[0];\n                iziToast.success({\n                    title: 'OK',\n                    message: 'Successfully selected date! Press Start ',\n                    position: 'topRight',\n                })\n            }\n    },\n  };\n\nflatpickr('input#datetime-picker', options);\n\n\nconst timerStart = () => {\n\n\n    timerId = setInterval(() => {\n        time = deadline.getTime() - new Date().getTime();\n        totalTime = convertMs(time); \n        // console.log(totalTime);\n        btnStart.disabled = true;\n        inputDateTime.disabled = true;\n        // flatpickr('input#datetime-picker', {disabled: true});\n    \n\n        secondsRender.textContent = totalTime.seconds;\n        minutesRender.textContent = totalTime.minutes;\n        hoursRender.textContent = totalTime.hours;\n        daysRender.textContent = totalTime.days;\n\n\n    if (time <= 0) {\n        clearInterval(timerId);\n                secondsRender.textContent = '00';\n                minutesRender.textContent = '00';\n                hoursRender.textContent = '00';\n                daysRender.textContent = '00';\n        \n                inputDateTime.disabled = false;\n                \n        }\n    }, 1000);\n}\n\nbtnStart.addEventListener('click', timerStart);\n\nfunction addLeadingZero(value) {\n    const newNum =  value.padStart(2, '0');\n    return newNum;\n }\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = addLeadingZero(Math.floor(ms / day).toString());\n    // Remaining hours\n    const hours = addLeadingZero(Math.floor((ms % day) / hour).toString());\n    // Remaining minutes\n    const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute).toString());\n    // Remaining seconds\n    const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second).toString());\n  \n    return { days, hours, minutes, seconds };\n  }\n"],"names":["secondsRender","minutesRender","hoursRender","daysRender","time","timerId","totalTime","btnStart","inputDateTime","deadline","options","selectedDates","iziToast","flatpickr","timerStart","convertMs","addLeadingZero","value","ms","days","hours","minutes","seconds"],"mappings":"2GAMA,MAAMA,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAa,SAAS,cAAc,iBAAiB,EAG3D,IAAIC,EAAO,EACPC,EAAU,KACVC,EAAY,KAGhB,MAAMC,EAAW,SAAS,cAAc,oBAAoB,EAC5DA,EAAS,SAAW,GAEpB,MAAMC,EAAgB,SAAS,cAAc,uBAAuB,EAGpE,IAAIC,EAAW,EAIf,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAEf,GAAIA,EAAc,CAAC,GAAK,IAAI,KAAQ,CAEhCC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,qCACT,SAAU,UAC9B,CAAiB,EAED,MAChB,MACgBL,EAAS,SAAW,GACpBE,EAAWE,EAAc,CAAC,EAC1BC,EAAS,QAAQ,CACb,MAAO,KACP,QAAS,2CACT,SAAU,UAC9B,CAAiB,CAEZ,CACL,EAEAC,EAAU,wBAAyBH,CAAO,EAG1C,MAAMI,EAAa,IAAM,CAGrBT,EAAU,YAAY,IAAM,CACxBD,EAAOK,EAAS,QAAO,EAAK,IAAI,KAAI,EAAG,UACvCH,EAAYS,EAAUX,CAAI,EAE1BG,EAAS,SAAW,GACpBC,EAAc,SAAW,GAIzBR,EAAc,YAAcM,EAAU,QACtCL,EAAc,YAAcK,EAAU,QACtCJ,EAAY,YAAcI,EAAU,MACpCH,EAAW,YAAcG,EAAU,KAGnCF,GAAQ,IACR,cAAcC,CAAO,EACbL,EAAc,YAAc,KAC5BC,EAAc,YAAc,KAC5BC,EAAY,YAAc,KAC1BC,EAAW,YAAc,KAEzBK,EAAc,SAAW,GAGpC,EAAE,GAAI,CACX,EAEAD,EAAS,iBAAiB,QAASO,CAAU,EAE7C,SAASE,EAAeC,EAAO,CAE3B,OADgBA,EAAM,SAAS,EAAG,GAAG,CAEvC,CAEF,SAASF,EAAUG,EAAI,CAQnB,MAAMC,EAAOH,EAAe,KAAK,MAAME,EAAK,KAAG,EAAE,SAAQ,CAAE,EAErDE,EAAQJ,EAAe,KAAK,MAAOE,EAAK,MAAO,IAAI,EAAE,SAAQ,CAAE,EAE/DG,EAAUL,EAAe,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,EAAE,SAAU,CAAA,EAE5EI,EAAUN,EAAe,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAAE,SAAU,CAAA,EAE7F,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}